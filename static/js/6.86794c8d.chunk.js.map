{"version":3,"sources":["core/utils/env.ts","pages/authen/model/formLogin.ts","pages/authen/mock/authen.ts","core/utils/axios.ts","pages/authen/service/authen.ts","pages/authen/component/FormLogin.tsx","pages/authen/index.tsx"],"names":["process","REACT_APP_BASE_URL_REST","REACT_APP_IS_MOCKUP","BASE_URL_REST","IS_MOCKUP","IFromLoginField","AuthenticateInputMock","userName","passWord","AuthenticateOutputMock","token","data","firstName","lastName","options","http","axios","create","interceptors","response","use","errors","status","addHeader","headers","Object","assign","defaults","removeHeader","forEach","header","httpClient","Axios","baseURL","AuthService","signInWithUserNameAndPassword","input","a","Authorization","post","FormLogin","dispatch","useDispatch","push","useHistory","onFinish","values","ErrorMsg","setAuthenticate","SuccessMsg","console","error","initialValues","Item","label","name","rules","required","message","Password","style","textAlign","type","htmlType","AuthenticatePages","span"],"mappings":"oHAAA,0EAAuDA,gJAAhDC,EAAP,EAAOA,wBAAyBC,EAAhC,EAAgCA,oBAEnBC,EAAgBF,EAChBG,EAAoC,SAAxBF,G,wJCEZG,EACC,WADDA,EAEC,WCLDC,EAA2C,CACpDC,SAAU,KACVC,SAAU,YAGDC,EAA6C,CACtDC,MAAO,MACPC,KAAM,CACFC,UAAW,aACXC,SAAU,gB,2BC2BX,EA/BO,SAACC,GACX,IAAIC,EAAOC,IAAMC,OAAOH,GAYpB,OAAJC,QAAI,IAAJA,KAAMG,aAAaC,SAASC,KAVG,SAACD,GAAD,OAAmBA,KACrB,SAACE,GAClBA,EAAOC,UAiBnB,MAAO,CACHP,KAAM,CACFQ,UATU,WAAmB,IAAlBC,EAAiB,uDAAP,GACzBC,OAAOC,OAAOX,EAAKY,SAASH,QAASA,IASjCI,aAPa,WAAmB,IAAlBJ,EAAiB,uDAAP,GAC5BA,EAAQK,SAAQ,SAACC,GAAD,cAAmBf,EAAKY,SAASG,QAQjDC,WAAYhB,GAIciB,CAnCM,CACpCC,QAAS9B,KAAiB,KAkChBY,EAAP,EAAOA,KAAMgB,EAAb,EAAaA,WCXLG,EAjBK,WAChB,MAAO,CACHC,8BAA8B,WAAD,4BAAE,WAAOC,GAAP,mBAAAC,EAAA,0DACvBjC,IADuB,uBAEvBW,EAAKQ,UAAU,CAACe,cAAc,UAAD,OAAY7B,EAAuBC,SAFzC,kBAGhBD,GAHgB,uBAKEsB,EAAWQ,KAAK,QAASH,GAL3B,mBAKpBd,EALoB,EAKpBA,OAAQX,EALY,EAKZA,KACA,MAAXW,EANuB,0CAOhB,IAPgB,eAS3BP,EAAKQ,UAAU,CAACe,cAAc,UAAD,OAAY3B,EAAKD,SATnB,kBAUpBC,GAVoB,4CAAF,mDAAC,K,gBCA/BwB,EAAiCD,IAAjCC,8BAoDQK,EAlD4B,WACvC,IAAMC,EAAWC,cACVC,EAAQC,cAARD,KAEDE,EAAQ,uCAAG,WAAOC,GAAP,eAAAT,EAAA,+EAEcF,EAA8BW,GAF5C,UAEH3B,EAFG,8BAIL4B,cAJK,0BAOTN,EAASO,YAAgB7B,IACzBwB,EAAK,KACLM,YAAW,kBATF,kDAWTC,QAAQC,MAAM,SAAd,MACAJ,cAZS,0DAAH,sDAgBd,OACI,eAAC,IAAD,CACIK,cAAe9C,EACfuC,SAAUA,EAFd,UAII,cAAC,IAAKQ,KAAN,CACIC,MAAM,WACNC,KAAMlD,EACNmD,MAAO,CAAC,CAACC,UAAU,EAAMC,QAAS,gCAHtC,SAKI,cAAC,IAAD,MAGJ,cAAC,IAAKL,KAAN,CACIC,MAAM,WACNC,KAAMlD,EACNmD,MAAO,CAAC,CAACC,UAAU,EAAMC,QAAS,gCAHtC,SAKI,cAAC,IAAMC,SAAP,MAGJ,cAAC,IAAKN,KAAN,CAAWO,MAAO,CAACC,UAAW,UAA9B,SACI,cAAC,IAAD,CAAQC,KAAK,UAAUC,SAAS,SAAhC,0BCrCDC,UAdoC,WAC/C,OACI,mCACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAKC,KAAM,GAAX,SACI,cAAC,IAAD,UACI,cAAC,EAAD","file":"static/js/6.86794c8d.chunk.js","sourcesContent":["const {REACT_APP_BASE_URL_REST, REACT_APP_IS_MOCKUP} = process.env;\n\nexport const BASE_URL_REST = REACT_APP_BASE_URL_REST;\nexport const IS_MOCKUP = REACT_APP_IS_MOCKUP === \"true\";\n","export interface IFromLogin {\n    userName: string\n    passWord: string\n}\n\nexport const IFromLoginField: IFromLogin = {\n    userName: \"userName\",\n    passWord: \"passWord\"\n}","import {AuthenticateInput, AuthenticateOutput} from \"../model/authen\";\n\nexport const AuthenticateInputMock: AuthenticateInput = {\n    userName: \"KK\",\n    passWord: \"password\"\n}\n\nexport const AuthenticateOutputMock: AuthenticateOutput = {\n    token: \"KKK\",\n    data: {\n        firstName: \"Kraingkrai\",\n        lastName: \"Keawobchoei\"\n    }\n}\n","import axios, {AxiosRequestConfig} from \"axios\";\nimport {BASE_URL_REST} from \"core/utils/env\";\n\nconst INIT_OPTION: AxiosRequestConfig = {\n    baseURL: BASE_URL_REST || \"\",\n}\n\nconst Axios = (options: AxiosRequestConfig) => {\n    let http = axios.create(options)\n\n    const handlerSuccessResponse = (response: any) => response;\n    const handlerErrorResponse = (errors: any) => {\n        switch (errors.status) {\n            case \"400\":\n                break;\n            default:\n                break;\n        }\n    };\n\n    http?.interceptors.response.use(handlerSuccessResponse, handlerErrorResponse);\n\n    const addHeader = (headers = {}) => {\n        Object.assign(http.defaults.headers, headers);\n    };\n    const removeHeader = (headers = []) => {\n        headers.forEach((header) => delete http.defaults[header]);\n    };\n\n    return {\n        http: {\n            addHeader,\n            removeHeader\n        },\n        httpClient: http\n    };\n};\n\nexport const {http, httpClient} = Axios(INIT_OPTION)\n","import {http, httpClient} from \"core/utils/axios\";\nimport {IS_MOCKUP} from \"core/utils/env\";\n\nimport {AuthenticateOutput, AuthenticateInput} from \"../model/authen\";\nimport {AuthenticateOutputMock} from \"../mock/authen\";\n\ninterface IServiceAuth {\n    signInWithUserNameAndPassword: (input: AuthenticateInput) => Promise<AuthenticateOutput>\n}\n\nconst AuthService = (): IServiceAuth => {\n    return {\n        signInWithUserNameAndPassword: async (input: AuthenticateInput): Promise<AuthenticateOutput> => {\n            if (IS_MOCKUP) {\n                http.addHeader({Authorization: `Bearer ${AuthenticateOutputMock.token}`})\n                return AuthenticateOutputMock\n            }\n            const {status, data} = await httpClient.post('login', input)\n            if (status !== 200) {\n                return {} as AuthenticateOutput\n            }\n            http.addHeader({Authorization: `Bearer ${data.token}`})\n            return data\n        },\n    }\n}\n\nexport default AuthService","import React from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {useHistory} from \"react-router-dom\";\nimport {Form, Input, Button} from 'antd';\n\nimport {setAuthenticate} from \"store/app\";\n\nimport {IFromLoginField, IFromLogin} from \"../model/formLogin\";\nimport {AuthenticateInputMock} from \"../mock/authen\";\nimport AuthService from \"../service/authen\";\nimport {ErrorMsg, SuccessMsg} from \"../../../component/common/ToastMessage\";\n\nconst {signInWithUserNameAndPassword} = AuthService()\n\nconst FormLogin: React.FunctionComponent = (): React.ReactElement => {\n    const dispatch = useDispatch();\n    const {push} = useHistory()\n\n    const onFinish = async (values: IFromLogin) => {\n        try {\n            const response = await signInWithUserNameAndPassword(values)\n            if (!response) {\n                ErrorMsg()\n                return\n            }\n            dispatch(setAuthenticate(response))\n            push(\"/\")\n            SuccessMsg('Login Success.')\n        } catch (err) {\n            console.error('ERR - ', err)\n            ErrorMsg()\n        }\n    };\n\n    return (\n        <Form\n            initialValues={AuthenticateInputMock}\n            onFinish={onFinish}\n        >\n            <Form.Item\n                label=\"Username\"\n                name={IFromLoginField.userName}\n                rules={[{required: true, message: 'Please input your username!'}]}\n            >\n                <Input/>\n            </Form.Item>\n\n            <Form.Item\n                label=\"Password\"\n                name={IFromLoginField.passWord}\n                rules={[{required: true, message: 'Please input your password!'}]}\n            >\n                <Input.Password/>\n            </Form.Item>\n\n            <Form.Item style={{textAlign: \"center\"}}>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Submit\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n};\n\nexport default FormLogin\n","import React from \"react\";\nimport {Row, Col, Card} from 'antd';\n\nimport FormLogin from \"./component/FormLogin\";\n\nconst AuthenticatePages: React.FunctionComponent = (): React.ReactElement => {\n    return (\n        <>\n            <Row>\n                <Col span={24}>\n                    <Card>\n                        <FormLogin/>\n                    </Card>\n                </Col>\n            </Row>\n        </>\n    );\n};\n\nexport default AuthenticatePages;\n\n"],"sourceRoot":""}